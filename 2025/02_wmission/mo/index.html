<link rel="stylesheet" href="https://image.wconcept.co.kr/images/img/publish/css/wconcept_ani.css">
<link href="https://image.wconcept.co.kr/images/img/publish/css/font.css" rel="stylesheet">
<link rel="stylesheet" href="https://image.wconcept.co.kr/images/img/publish/byteplus/byteplus_1.8.2.css">
<script src="https://image.wconcept.co.kr/images/img/publish/byteplus/byteplus_1.8.2.js"></script>


<style>
html, body, ul, li, ol, dl, dd, dt, p, div{margin:0;padding:0;}
ul, li{list-style:none}
img.img-responsive{width:100%;}
area{outline:none;-webkit-outline:none;}

/* 아이콘 애니메이션 효과 */
.icoFloatAni{-webkit-animation:floatAni 1s infinite alternate;animation:icoFloatAni 1s infinite alternate;}
@keyframes icoFloatAni{0%{-webkit-transform:translateY(-1.5%);transform:translateY(-1.5%);}100%{-webkit-transform:translateY(1.5%);transform:translateY(1.5%);}}  

/* 팝업 */
#lightbox_wrap{	position: absolute;	left: 50%;z-index: 1001;display: none;text-align:center;max-width: 720px;width: 90%;}
.lightbox{position:relative;display:inline-block;width: 100%;}
.closepop{position: absolute;top: 3%;right: 3%;width: 12%;padding-bottom: 12%;display: block;background:none;border:none;outline:none}
.pop_top{top: 10%;-webkit-transform:translateX(-50%);-moz-transform:translateX(-50%);-o-transform:translateX(-50%);transform:translateX(-50%);}
.pop_middle {top: 50%;-webkit-transform:translate(-50%, -50%);-moz-transform:translate(-50%, -50%);-o-transform:translate(-50%, -50%);transform:translate(-50%, -50%);}
.lightbox-shadow {position: fixed;top: 0;left: 0;background: rgba(0,0,0,.8);opacity: 1;z-index: 1000;display: none;overflow-y: scroll;}
.close-shadow{width:100%;position:absolute;top:0;left:0;right:0;bottom:0}
.document_overflow{overflow:hidden}

/* 섹션 전체 */
.content_wrap {max-width: 800px;margin: 0 auto;overflow:hidden;position:relative;}
.content_wrap a{display:block}
.content_wrap button{margin:0;padding:0;background:rgba(0,0,0,0);border:0px solid rgba(0,0,0,0)}
.content_wrap.rolldiv{display:none}
.content_wrap.rolldiv.active{display:block}
.sec_cov{position:absolute;bottom:0;left:0;width:100%;z-index:2}
.sec_frame{position:absolute;top:0;margin:0 auto;width:100%;height:100%;z-index:2;pointer-events:none;}
.sec_frame iframe, .sec_frame video-js{border:none;position: absolute; top: 0px; right: 0px; bottom: 0px; left: 0px; width: 100%; height: 100%;}
.sec_frame .vjs-control-bar{display:none}
.main_bg{position:relative;overflow:hidden;}
.sec_link{position:absolute;z-index:2}
.sec_link a,.sec_link button{display:block;width:100%;height:100%;overflow:hidden;text-indent:-9999px;background:none;border:none;outline:none}

/* 버튼 및 팝업 */
.mission01_eventbtn{top: 76.15%;left: 0;right: 0;margin: 0 auto;width: 47.0%;height: 6.2%;}
.mission01_popbtn{top: 85.15%;left: 0;right: 0;margin: 0 auto;width: 47.0%;height: 6.2%;}
.mission02_eventbtn{top: 79.3%;left: 0;right: 0;margin: 0 auto;width: 47.0%;height: 5.9%;}
.mission02_popbtn{top: 88.3%;left: 0;right: 0;margin: 0 auto;width: 47.0%;height: 5.9%;}
</style>

<div class="content_wrap">
	<div class="main_bg">
		<img src="https://image.wconcept.co.kr/images/img/event/2025/0207_wmission/mo/main_bg.jpg" alt="" class="img-responsive"/>
		<div class="sec_frame">
			<div style="position:absolute;top:0;left:0;width:100%;height:100%;border:none;outline:none" class="veplayer" data-vid-ctrl="false" data-vid-url="https://wdiscovery.wconcept.co.kr/e8a3e065296131678d9b8d0326cdcd32/7a6ecc9b/dash/hls-v1119bg50000cuhbv1vak5v47j8h4230/tos-sgcomm1-v-662e29308768f11b-sg/f64596c72c7e4cd0ac6cf1323554e5b3/main.m3u8?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=265d823cbe8049dba3a20ce1aba50ac9%2F20250205%2F%2F%2Faws4_request&X-Amz-Date=20250205T021451Z&X-Amz-Expires=315360600&X-Amz-Signature=74bafbfb0f8f7f4d0421c60cc84d2a9e4c5b149fa5747ae4dd5ec6cff28ef44b&X-Amz-SignedHeaders=host&X-Amz-SignedQueries=X-Amz-Algorithm%3BX-Amz-Credential%3BX-Amz-Date%3BX-Amz-Expires%3BX-Amz-SignedHeaders%3BX-Amz-SignedQueries%3BX-Amz-UriRange%3Bsgw-endpoint&X-Amz-UriRange=0%2C+109&sgw-endpoint=wdiscovery.wconcept.co.kr" data-vid-auto="true"></div>
		</div>
	</div>
</div>

<div class="content_wrap content_dev">
	<div class="content_wrap">
		<img src="https://image.wconcept.co.kr/images/img/event/2025/0207_wmission/mo/01_mission_bg.jpg" alt="" class="img-responsive"/>
		<div class="sec_cov icoFloatAni">
			<img src="https://image.wconcept.co.kr/images/img/event/2025/0207_wmission/mo/01_mission_cov.png" alt="" class="img-responsive"/>
		</div>
	
		<!-- 개발착수영역 : 앱다운로드 -->
		<div class="sec_link mission01_eventbtn">
			<button id="wcMisPoint" class="btn-point"></button>
		</div>
		<!-- //개발착수영역 : 앱다운로드 -->
	
		<div class="sec_link mission01_popbtn"><a href="javascript:;" onclick="lightbox('<img src=\'https://image.wconcept.co.kr/images/img/event/2025/0207_wmission/mo/popup01.jpg\'  class=\'img-responsive\'>', null)"></a></div>
	</div>
	
	<div class="content_wrap">
		<img src="https://image.wconcept.co.kr/images/img/event/2025/0207_wmission/mo/02_mission_bg.jpg" alt="" class="img-responsive"/>
		<div class="sec_cov icoFloatAni">
			<img src="https://image.wconcept.co.kr/images/img/event/2025/0207_wmission/mo/02_mission_cov.png" alt="" class="img-responsive"/>
		</div>
	
		<!-- 개발착수영역 : 앱다운로드 -->
		<div class="sec_link mission02_eventbtn">
			<button id="wcMisReward" class="btn-coupon"></button>
		</div>
		<!-- //개발착수영역 : 앱다운로드 -->
	
		<div class="sec_link mission02_popbtn"><a href="javascript:;" onclick="lightbox('<img src=\'https://image.wconcept.co.kr/images/img/event/2025/0207_wmission/mo/popup02.jpg\'  class=\'img-responsive\'>', null)"></a></div>
	</div>
</div>

<div class="content_wrap">
	<a href="https://www.wconcept.co.kr/MyPage/MyCoupon" target="_self"><img src="https://image.wconcept.co.kr/images/img/event/2025/0207_wmission/mo/03_banner.jpg" alt="" class="img-responsive"/></a>
</div>

<!-- 팝업 라이트박스 -->
<div id="lightbox-shadow" class="lightbox-shadow">
	<div id="close-shadow" class="close-shadow"></div>
	<div id="lightbox_wrap">
		<div id="lightbox" class="lightbox"></div>
		<button class="closepop" onclick="closeLightbox()"></button>
	</div>
</div>
<!-- 팝업 라이트박스 끝 -->

<script src="https://image.wconcept.co.kr/images/img/publish/byteplus/byteplus_1.8.2_run.js"></script>

<!-- 반응형 이미지 맵 -->
<script src="https://image.wconcept.co.kr/images/img/publish/js/jquery.rwdImageMaps.js"></script>
<script type="text/javascript">
/* 도큐멘트 시작 시 */
 $(document).ready(function(e) {  
  /* 반응형 이미지맵 */
  $('img[usemap]').rwdImageMaps();
 });
</script>

<!-- 스크롤반응, 에니메이트 -->
<script src="https://image.wconcept.co.kr/images/img/publish/js/wconcept_fade.js"></script>
<script>
	
//스크롤반응, 에니메이트
wow = new WOW(
  {
	boxClass : 'fade_division',
	animateClass: 'animated',
	offset:       100,
	callback:     function(box) {
	  console.log("WOW: animating <" + box.tagName.toLowerCase() + ">")
	}
  }
);
wow.init();
</script>

<!-- 팝업 라이트박스 코드 -->
<script>
function lightbox(insertContent, ajaxContentUrl){

	// remove any previously added content
	$('#lightbox').empty();

	// insert HTML content
	if(insertContent != null){
		$('#lightbox').append(insertContent);
	}

	// insert AJAX content
	if(ajaxContentUrl != null){
		// temporarily add a "Loading..." message in the lightbox
		$('#lightbox').append('<p class="loading">Loading...</p>');

		// request AJAX content
		$.ajax({
			type: 'GET',
			url: ajaxContentUrl,
			success:function(data){
				// remove "Loading..." message and append AJAX content
				$('#lightbox').empty();
				$('#lightbox').append(data);
			},
			error:function(){
				alert('팝업 로드 실패!');
			}
		});
	}

	// display the lightbox
	$('#lightbox_wrap').show(500, 	
		function(){
			if($("#lightbox_wrap").height() > window.innerHeight){
				$("#lightbox_wrap").removeClass("pop_middle");
				$("#lightbox_wrap").addClass("pop_top");
			}
			else if($("#lightbox_wrap").height() < window.innerHeight) {
				$("#lightbox_wrap").removeClass("pop_top");
				$("#lightbox_wrap").addClass("pop_middle");
			}
		}
	);
	$('#closepop_wrap').show(500);
	$('#lightbox-shadow').show();
	$('body').addClass('document_overflow');

}

// close the lightbox
function closeLightbox(){
	// hide lightbox and shadow <div/>'s
	$('#lightbox_wrap').hide(500);
	$('#closepop_wrap').hide(500);
	$('#lightbox-shadow').hide(0);

	// remove contents of lightbox in case a video or other content is actively playing
	$('#lightbox').empty();
	$('body').removeClass('document_overflow');
}

$(function(){
	closeLightbox();
	$('#close-shadow').click(function(){
		closeLightbox();
	});
});

function funcThisSize() {
	$(".lightbox-shadow").css( 'width', window.innerWidth );
	$(".lightbox-shadow").css( 'height', window.innerHeight );
	$("#close-shadow").css( 'height', $('#lightbox img').height );
}

$(function(){
	$(window).resize( funcThisSize );
	funcThisSize();
});
</script>



<!-- 개발착수영역 -->

<script>

// 공통 설정
const CONFIG = {
  POINT: {
    sectionId: '41492',
    buttonClass: 'btn-point',
    handler: 'grantAppFirstLoginPoint'
  },
  COUPON: {
    sectionId: '41493', 
    buttonClass: 'btn-coupon',
    handler: 'downloadNewMemberFirstPurchaseCoupon'
  },
  DATE_RANGE: {
    start: '2025-02-01',
    end: '2025-03-31'
  }
};

// 이벤트 핸들러 생성 함수
const createEventHandler = (type) => async () => {
  try {
    console.log(`Handling ${type} click...`);
    const { sectionId } = CONFIG[type];
    const { start, end } = CONFIG.DATE_RANGE;
    
    const res = await window.wckEventInterface[CONFIG[type].handler](
      sectionId,
      start,
      end
    );
    console.log('Response:', res);
  } catch (error) {
    console.error(`Error processing ${type}:`, error);
  }
};

// 이벤트 리스너 등록
document.addEventListener('DOMContentLoaded', () => {
  const container = document.querySelector('.content_dev');
  
  ['POINT', 'COUPON'].forEach(type => {
    container
      .querySelector(`.${CONFIG[type].buttonClass}`)
      ?.addEventListener('click', createEventHandler(type));
  });
});
</script>    

